{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/samga/OneDrive/Desktop/AI%20Stat/with-supabase-app/lib/supabaseClient.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\nexport const supabase = createBrowserClient(supabaseUrl, supabaseAnonKey)\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,iMAAmB,EAAC,aAAa","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/samga/OneDrive/Desktop/AI%20Stat/with-supabase-app/app/dashboard/layout.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { useRouter, usePathname } from 'next/navigation'\r\nimport Link from 'next/link'\r\nimport { supabase } from '@/lib/supabaseClient'\r\nimport type { User } from '@supabase/supabase-js'\r\nimport { BarChart3, User as UserIcon, Users, Lightbulb, History, Settings } from 'lucide-react'\r\n\r\nconst navigation = [\r\n  { name: 'Dashboard', href: '/dashboard', icon: BarChart3 },\r\n  { name: 'Player Stats', href: '/dashboard/player-stats', icon: UserIcon },\r\n  { name: 'Player Comparison', href: '/dashboard/player-comparison', icon: Users },\r\n  { name: 'AI Prediction', href: '/dashboard/ai-prediction', icon: Lightbulb },\r\n  { name: 'Query History', href: '/dashboard/query-history', icon: History },\r\n  { name: 'Settings', href: '/dashboard/settings', icon: Settings },\r\n]\r\n\r\nexport default function DashboardLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode\r\n}) {\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [username, setUsername] = useState<string>('')\r\n  const [loading, setLoading] = useState(true)\r\n  const router = useRouter()\r\n  const pathname = usePathname()\r\n\r\n  useEffect(() => {\r\n    const checkUser = async () => {\r\n      const { data: { user } } = await supabase.auth.getUser()\r\n      \r\n      if (!user) {\r\n        router.push('/login')\r\n      } else {\r\n        setUser(user)\r\n        \r\n        // Fetch username\r\n        try {\r\n          const response = await fetch(`/api/get-profile?userId=${user.id}`)\r\n          const data = await response.json()\r\n          if (data.success && data.profile?.username) {\r\n            setUsername(data.profile.username)\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to fetch username:', error)\r\n        }\r\n        \r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    checkUser()\r\n\r\n    // Listen for auth changes\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      if (!session) {\r\n        router.push('/login')\r\n      } else {\r\n        setUser(session.user)\r\n      }\r\n    })\r\n\r\n    return () => {\r\n      subscription.unsubscribe()\r\n    }\r\n  }, [router])\r\n\r\n  const handleLogout = async () => {\r\n    await supabase.auth.signOut()\r\n    router.push('/login')\r\n  }\r\n\r\n  const getPageTitle = () => {\r\n    const currentPage = navigation.find(item => item.href === pathname)\r\n    return currentPage ? currentPage.name : 'Dashboard'\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-gray-600\">Loading...</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background flex\">\r\n      {/* Sidebar */}\r\n      <aside className=\"w-64 bg-card/50 backdrop-blur-sm fixed h-full border-r border-border/50\">\r\n        <div className=\"h-full flex flex-col\">\r\n          {/* Logo */}\r\n          <div className=\"h-16 flex items-center gap-3 px-6 border-b border-border/50\">\r\n            <div className=\"w-8 h-8 bg-primary rounded-lg flex items-center justify-center\">\r\n              <BarChart3 className=\"w-5 h-5 text-primary-foreground\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-lg font-bold text-foreground\">StatSight</h1>\r\n              <p className=\"text-xs text-muted-foreground\">NBA Analytics</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Navigation */}\r\n          <nav className=\"flex-1 px-3 py-6 space-y-1\">\r\n            {navigation.map((item) => {\r\n              const isActive = pathname === item.href\r\n              const Icon = item.icon\r\n              return (\r\n                <Link\r\n                  key={item.name}\r\n                  href={item.href}\r\n                  className={`group flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 ${\r\n                    isActive\r\n                      ? 'bg-primary/10 text-primary font-medium'\r\n                      : 'text-muted-foreground hover:bg-secondary/50 hover:text-foreground'\r\n                  }`}\r\n                >\r\n                  <Icon className={`w-4 h-4 ${isActive ? 'text-primary' : 'text-muted-foreground group-hover:text-foreground'}`} />\r\n                  <span className=\"text-sm\">{item.name}</span>\r\n                </Link>\r\n              )\r\n            })}\r\n          </nav>\r\n\r\n          {/* User Info */}\r\n          <div className=\"p-4 border-t border-border/50\">\r\n            <Link \r\n              href=\"/dashboard/settings\"\r\n              className=\"flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-secondary/50 transition-all duration-200 group\"\r\n              title=\"View or edit your account settings\"\r\n            >\r\n              <div className=\"w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center text-primary font-semibold text-base\">\r\n                {username ? username.charAt(0).toUpperCase() : user?.email?.charAt(0).toUpperCase()}\r\n              </div>\r\n              <div className=\"flex-1 min-w-0\">\r\n                <p className=\"text-sm font-semibold text-foreground truncate group-hover:text-primary transition-colors\">\r\n                  {username ? `@${username}` : 'User'}\r\n                </p>\r\n                <p className=\"text-xs text-muted-foreground truncate\">{user?.email}</p>\r\n              </div>\r\n              <svg className=\"w-4 h-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n              </svg>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 ml-64\">\r\n        {/* Top Bar */}\r\n        <header className=\"h-16 bg-card/30 backdrop-blur-sm sticky top-0 z-10 border-b border-border/50\">\r\n          <div className=\"h-full px-8 flex items-center justify-between\">\r\n            <h2 className=\"text-xl font-semibold text-foreground\">\r\n              {getPageTitle()}\r\n            </h2>\r\n            <div className=\"flex items-center gap-3\">\r\n              <Link\r\n                href=\"/\"\r\n                className=\"px-4 py-2 bg-secondary hover:bg-secondary/80 text-foreground rounded-lg transition-colors text-sm font-medium flex items-center gap-2\"\r\n              >\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\r\n                </svg>\r\n                Home\r\n              </Link>\r\n              <button \r\n                onClick={handleLogout}\r\n                className=\"px-4 py-2 bg-destructive/10 hover:bg-destructive/20 text-destructive rounded-lg transition-colors text-sm font-medium flex items-center gap-2\"\r\n              >\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n                </svg>\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        {/* Page Content */}\r\n        <main className=\"p-6\">\r\n          {/* Username Alert Banner */}\r\n          {user && !username && pathname !== '/dashboard/settings' && (\r\n            <div className=\"mb-6 bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 flex items-center gap-3 animate-in fade-in slide-in-from-top-2 duration-500\">\r\n              <svg className=\"w-5 h-5 text-yellow-500 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n              <div className=\"flex-1\">\r\n                <p className=\"text-sm font-medium text-foreground\">\r\n                  ⚙️ Please set your username in Settings\r\n                </p>\r\n                <p className=\"text-xs text-muted-foreground mt-1\">\r\n                  Add a username to personalize your account\r\n                </p>\r\n              </div>\r\n              <Link\r\n                href=\"/dashboard/settings\"\r\n                className=\"px-4 py-2 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-500 rounded-lg text-sm font-medium transition-colors\"\r\n              >\r\n                Go to Settings\r\n              </Link>\r\n            </div>\r\n          )}\r\n          \r\n          {children}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}