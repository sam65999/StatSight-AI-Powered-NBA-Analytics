module.exports=[93695,(e,t,a)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70406,(e,t,a)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},18622,(e,t,a)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,a)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,a)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,a)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},87589,e=>{"use strict";var t=e.i(47909),a=e.i(74017),r=e.i(96250),n=e.i(59756),s=e.i(61916),o=e.i(14444),i=e.i(37092),l=e.i(69741),u=e.i(16795),c=e.i(87718),d=e.i(95169),p=e.i(47587),m=e.i(66012),g=e.i(70101),h=e.i(26937),v=e.i(10372),f=e.i(93695);e.i(52474);var w=e.i(5232),x=e.i(89171);async function _(e){try{let t=e.nextUrl.searchParams.get("team")||"NBA",a=process.env.SERPAPI_KEY;if(!a)return await R(t);let r=new URL("https://serpapi.com/search.json");r.searchParams.append("engine","google"),r.searchParams.append("q",`${t} NBA games schedule`),r.searchParams.append("api_key",a),r.searchParams.append("gl","us"),r.searchParams.append("hl","en");let n=await fetch(r.toString());if(!n.ok)throw Error(`SerpApi error: ${n.status}`);let s=await n.json(),o=function(e,t){let a=[];try{if(e.sports_results&&e.sports_results.games&&e.sports_results.games.forEach((e,t)=>{let r=e.status?.includes("Live")||e.stage?.includes("Live"),n=e.status?.includes("Final")||e.stage?.includes("FT");a.push({game_id:e.game_id||`google_${Date.now()}_${t}`,team1:{name:e.teams?.[0]?.name||e.team1||"Team 1",logo_url:e.teams?.[0]?.thumbnail||E(e.teams?.[0]?.name||""),score:e.teams?.[0]?.score},team2:{name:e.teams?.[1]?.name||e.team2||"Team 2",logo_url:e.teams?.[1]?.thumbnail||E(e.teams?.[1]?.name||""),score:e.teams?.[1]?.score},date:e.date||e.start_time||new Date().toISOString().split("T")[0],time:e.time||function(e){if(e)try{return new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",timeZoneName:"short"})}catch{return}}(e.start_time),status:n?"final":r?"live":"scheduled",venue:e.venue,tournament:e.tournament||"NBA"})}),e.game_spotlight){let t=e.game_spotlight;a.unshift({game_id:`spotlight_${Date.now()}`,team1:{name:t.first_team?.name||"Team 1",logo_url:t.first_team?.thumbnail||"",score:t.first_team?.score},team2:{name:t.second_team?.name||"Team 2",logo_url:t.second_team?.thumbnail||"",score:t.second_team?.score},date:t.date||new Date().toISOString().split("T")[0],time:t.time,status:t.stage?.includes("Live")?"live":t.stage?.includes("Final")?"final":"scheduled",venue:t.venue,tournament:t.league||"NBA"})}}catch(e){console.error("Error parsing Google sports results:",e)}return a}(s,0);return x.NextResponse.json({success:!0,count:o.length,games:o,source:"google_serpapi"})}catch(e){return console.error("Error fetching games from Google:",e),x.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Failed to fetch games",games:[]},{status:500})}}async function R(e){try{let t=encodeURIComponent(`${e} NBA games`),a=`https://www.google.com/search?q=${t}&hl=en`,r=await fetch(a,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"}}),n=await r.text(),s=function(e,t){let a=[];try{let t=e.match(/<script[^>]*>window\._sdata\s*=\s*(\{[\s\S]*?\});/i);if(t&&t[1]){let e=JSON.parse(t[1]);e.games&&e.games.forEach((e,t)=>{a.push({game_id:`parsed_${t}`,team1:{name:e.home_team||"Home Team",logo_url:e.home_logo||"",score:e.home_score},team2:{name:e.away_team||"Away Team",logo_url:e.away_logo||"",score:e.away_score},date:e.date||new Date().toISOString().split("T")[0],time:e.time,status:e.status||"scheduled"})})}}catch(e){console.error("Error parsing HTML:",e)}return a.length>0?a:b(t)}(n,e);return x.NextResponse.json({success:!0,count:s.length,games:s,source:"google_direct"})}catch(t){return console.error("Fallback fetch error:",t),x.NextResponse.json({success:!0,count:3,games:b(e),source:"sample_data"})}}function b(e){let t=new Date,a=new Date(t);a.setDate(a.getDate()+1);let r=[{name:"Los Angeles Lakers",abbr:"LAL",id:"1610612747"},{name:"Boston Celtics",abbr:"BOS",id:"1610612738"},{name:"Golden State Warriors",abbr:"GSW",id:"1610612744"},{name:"Miami Heat",abbr:"MIA",id:"1610612748"},{name:"Milwaukee Bucks",abbr:"MIL",id:"1610612749"},{name:"Phoenix Suns",abbr:"PHX",id:"1610612756"}],n=r.find(t=>e.toLowerCase().includes(t.name.toLowerCase())||e.toLowerCase().includes(t.abbr.toLowerCase()))||r[0],s=r.filter(e=>e.name!==n.name);return[{game_id:`sample_${Date.now()}_1`,team1:{name:n.name,logo_url:`https://cdn.nba.com/logos/nba/${n.id}/global/L/logo.svg`,score:void 0},team2:{name:s[0].name,logo_url:`https://cdn.nba.com/logos/nba/${s[0].id}/global/L/logo.svg`,score:void 0},date:t.toISOString().split("T")[0],time:"7:30 PM ET",status:"scheduled",venue:"Crypto.com Arena",tournament:"NBA"},{game_id:`sample_${Date.now()}_2`,team1:{name:s[1].name,logo_url:`https://cdn.nba.com/logos/nba/${s[1].id}/global/L/logo.svg`,score:void 0},team2:{name:n.name,logo_url:`https://cdn.nba.com/logos/nba/${n.id}/global/L/logo.svg`,score:void 0},date:a.toISOString().split("T")[0],time:"8:00 PM ET",status:"scheduled",venue:"TD Garden",tournament:"NBA"}]}function E(e){let t=e.toLowerCase().split(" ").pop()||"";return`https://cdn.nba.com/logos/nba/${({lakers:"1610612747",celtics:"1610612738",warriors:"1610612744",heat:"1610612748",bucks:"1610612749",suns:"1610612756",nets:"1610612751",knicks:"1610612752",clippers:"1610612746",mavericks:"1610612742",nuggets:"1610612743",bulls:"1610612741"})[t]||"1610612740"}/global/L/logo.svg`}e.s(["GET",()=>_],53278);var y=e.i(53278);let A=new t.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/google-upcoming-games/route",pathname:"/api/google-upcoming-games",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/google-upcoming-games/route.ts",nextConfigOutput:"",userland:y}),{workAsyncStorage:C,workUnitAsyncStorage:T,serverHooks:S}=A;function N(){return(0,r.patchFetch)({workAsyncStorage:C,workUnitAsyncStorage:T})}async function P(e,t,r){A.isDev&&(0,n.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let x="/api/google-upcoming-games/route";x=x.replace(/\/index$/,"")||"/";let _=await A.prepare(e,t,{srcPage:x,multiZoneDraftMode:!1});if(!_)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:R,params:b,nextConfig:E,parsedUrl:y,isDraftMode:C,prerenderManifest:T,routerServerContext:S,isOnDemandRevalidate:N,revalidateOnlyGenerated:P,resolvedPathname:k,clientReferenceManifest:O,serverActionsManifest:D}=_,L=(0,l.normalizeAppPath)(x),I=!!(T.dynamicRoutes[L]||T.routes[k]),M=async()=>((null==S?void 0:S.render404)?await S.render404(e,t,y,!1):t.end("This page could not be found"),null);if(I&&!C){let e=!!T.routes[k],t=T.dynamicRoutes[L];if(t&&!1===t.fallback&&!e){if(E.experimental.adapterPath)return await M();throw new f.NoFallbackError}}let $=null;!I||A.isDev||C||($="/index"===($=k)?"/":$);let j=!0===A.isDev||!I,q=I&&!j;D&&O&&(0,o.setReferenceManifestsSingleton)({page:x,clientReferenceManifest:O,serverActionsManifest:D,serverModuleMap:(0,i.createServerModuleMap)({serverActionsManifest:D})});let H=e.method||"GET",U=(0,s.getTracer)(),B=U.getActiveScopeSpan(),F={params:b,prerenderManifest:T,renderOpts:{experimental:{authInterrupts:!!E.experimental.authInterrupts},cacheComponents:!!E.cacheComponents,supportsDynamicResponse:j,incrementalCache:(0,n.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:E.cacheLife,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,a,r)=>A.onRequestError(e,t,r,S)},sharedContext:{buildId:R}},K=new u.NodeNextRequest(e),G=new u.NodeNextResponse(t),W=c.NextRequestAdapter.fromNodeNextRequest(K,(0,c.signalFromNodeResponse)(t));try{let o=async e=>A.handle(W,F).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let a=U.getRootSpanAttributes();if(!a)return;if(a.get("next.span_type")!==d.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${a.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let r=a.get("next.route");if(r){let t=`${H} ${r}`;e.setAttributes({"next.route":r,"http.route":r,"next.span_name":t}),e.updateName(t)}else e.updateName(`${H} ${x}`)}),i=!!(0,n.getRequestMeta)(e,"minimalMode"),l=async n=>{var s,l;let u=async({previousCacheEntry:a})=>{try{if(!i&&N&&P&&!a)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let s=await o(n);e.fetchMetrics=F.renderOpts.fetchMetrics;let l=F.renderOpts.pendingWaitUntil;l&&r.waitUntil&&(r.waitUntil(l),l=void 0);let u=F.renderOpts.collectedTags;if(!I)return await (0,m.sendResponse)(K,G,s,F.renderOpts.pendingWaitUntil),null;{let e=await s.blob(),t=(0,g.toNodeOutgoingHttpHeaders)(s.headers);u&&(t[v.NEXT_CACHE_TAGS_HEADER]=u),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let a=void 0!==F.renderOpts.collectedRevalidate&&!(F.renderOpts.collectedRevalidate>=v.INFINITE_CACHE)&&F.renderOpts.collectedRevalidate,r=void 0===F.renderOpts.collectedExpire||F.renderOpts.collectedExpire>=v.INFINITE_CACHE?void 0:F.renderOpts.collectedExpire;return{value:{kind:w.CachedRouteKind.APP_ROUTE,status:s.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:a,expire:r}}}}catch(t){throw(null==a?void 0:a.isStale)&&await A.onRequestError(e,t,{routerKind:"App Router",routePath:x,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:q,isOnDemandRevalidate:N})},S),t}},c=await A.handleResponse({req:e,nextConfig:E,cacheKey:$,routeKind:a.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:T,isRoutePPREnabled:!1,isOnDemandRevalidate:N,revalidateOnlyGenerated:P,responseGenerator:u,waitUntil:r.waitUntil,isMinimalMode:i});if(!I)return null;if((null==c||null==(s=c.value)?void 0:s.kind)!==w.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==c||null==(l=c.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});i||t.setHeader("x-nextjs-cache",N?"REVALIDATED":c.isMiss?"MISS":c.isStale?"STALE":"HIT"),C&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let d=(0,g.fromNodeOutgoingHttpHeaders)(c.value.headers);return i&&I||d.delete(v.NEXT_CACHE_TAGS_HEADER),!c.cacheControl||t.getHeader("Cache-Control")||d.get("Cache-Control")||d.set("Cache-Control",(0,h.getCacheControlHeader)(c.cacheControl)),await (0,m.sendResponse)(K,G,new Response(c.value.body,{headers:d,status:c.value.status||200})),null};B?await l(B):await U.withPropagatedContext(e.headers,()=>U.trace(d.BaseServerSpan.handleRequest,{spanName:`${H} ${x}`,kind:s.SpanKind.SERVER,attributes:{"http.method":H,"http.target":e.url}},l))}catch(t){if(t instanceof f.NoFallbackError||await A.onRequestError(e,t,{routerKind:"App Router",routePath:L,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:q,isOnDemandRevalidate:N})}),I)throw t;return await (0,m.sendResponse)(K,G,new Response(null,{status:500})),null}}e.s(["handler",()=>P,"patchFetch",()=>N,"routeModule",()=>A,"serverHooks",()=>S,"workAsyncStorage",()=>C,"workUnitAsyncStorage",()=>T],87589)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__0f01ae76._.js.map