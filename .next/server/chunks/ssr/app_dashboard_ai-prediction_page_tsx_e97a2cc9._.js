module.exports=[76032,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=[{value:"points",label:"Points"},{value:"rebounds",label:"Rebounds"},{value:"assists",label:"Assists"},{value:"steals",label:"Steals"},{value:"blocks",label:"Blocks"},{value:"minutes",label:"Minutes"}];var e=a.i(29661),f=a.i(82515),g=a.i(43297);function h(){let[a,d]=(0,c.useState)("player");return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"AI Predictions"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Data-driven predictions powered by NBA statistics and AI"})]}),(0,b.jsx)(g.default,{}),(0,b.jsxs)("div",{className:"bg-card/50 backdrop-blur-sm rounded-xl shadow-md border border-border/50 p-2 inline-flex",children:[(0,b.jsx)("button",{onClick:()=>d("player"),className:`px-6 py-2 rounded-md font-medium transition-colors ${"player"===a?"bg-blue-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:"ðŸ€ Player Props"}),(0,b.jsx)("button",{onClick:()=>d("game"),className:`px-6 py-2 rounded-md font-medium transition-colors ${"game"===a?"bg-purple-600 text-white":"text-muted-foreground hover:text-foreground"}`,children:"ðŸ† Game Outcomes"})]}),"player"===a?(0,b.jsx)(i,{}):(0,b.jsx)(j,{})]})}function i(){let[a,g]=(0,c.useState)(""),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)("points"),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)("over"),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(null),J=(0,c.useRef)(null),K=(0,c.useRef)(null);(0,c.useEffect)(()=>{if(K.current&&clearTimeout(K.current),a.trim().length<2){i([]),I(null),G(!1);return}return G(!0),I(null),K.current=setTimeout(async()=>{try{let b=await fetch(`/api/player-search?query=${encodeURIComponent(a)}`),c=await b.json();if(!b.ok)throw Error(c.error||"Failed to search players");c.success&&c.data?(i(c.data.slice(0,8)),k(!0),I(null)):(i([]),I("No players found"))}catch(a){console.error("Player search error:",a),i([]),I(a instanceof Error?a.message:"Error searching players")}finally{G(!1)}},300),()=>{K.current&&clearTimeout(K.current)}},[a]),(0,c.useEffect)(()=>{let a=a=>{J.current&&!J.current.contains(a.target)&&k(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let L=async a=>{m(a),g(a.full_name),k(!1),i([]),y(null),C(null),E(!0);try{let b=await fetch(`/api/player-season-stats?player_id=${a.id}&season=2024-25`),c=await b.json();c.success?o(c):C(c.error||"Failed to fetch player stats")}catch(a){C("Error loading player stats")}finally{E(!1)}},M=a=>{if(w(null),!a||""===a.trim())return w("Please enter a threshold value"),!1;let b=parseFloat(a);return isNaN(b)?(w("Please enter a valid number"),!1):b<0?(w("Value cannot be negative"),!1):"points"===p&&b>100?(w("Points value seems too high"),!1):("rebounds"===p||"assists"===p)&&b>50||("steals"===p||"blocks"===p)&&b>20?(w(`${p} value seems too high`),!1):"minutes"!==p||!(b>48)||(w("Minutes cannot exceed 48"),!1)},N=async()=>{if(l&&n&&M(r)){A(!0),C(null);try{let a=await fetch("/api/ai-predict-player",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerName:l.full_name,playerStats:n,propType:p,threshold:parseFloat(r),overUnder:t})}),b=await a.json();b.success?(y(b),(0,e.logQuery)({query_type:"AI Prediction - Player Prop",details:{timestamp:new Date().toISOString(),playerName:l.full_name,playerId:l.id,team:l.team_abbreviation||void 0,propType:p,threshold:parseFloat(r),overUnder:t,prediction:b.prediction,confidence:b.confidence,projectedValue:b.projectedValue,reasoning:b.reasoning,statsUsed:b.statsUsed}})):C(b.error||"Failed to generate prediction")}catch(a){C("Error generating prediction")}finally{A(!1)}}},O=a=>a.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-card/50 backdrop-blur-sm rounded-xl shadow-md border border-border/50 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Select Player"}),(0,b.jsxs)("div",{ref:J,className:"relative",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",value:a,onChange:a=>g(a.target.value),onFocus:()=>h.length>0&&k(!0),placeholder:"Search for a player...",className:"w-full px-4 py-3 border border-border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10"}),F&&(0,b.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})})]}),H&&a.trim().length>=2&&(0,b.jsx)("div",{className:"absolute z-10 w-full mt-2 bg-destructive/10 border border-destructive/30 rounded-lg shadow-lg p-3",children:(0,b.jsx)("p",{className:"text-sm text-destructive",children:H})}),j&&h.length>0&&!H&&(0,b.jsx)("div",{className:"absolute z-10 w-full mt-2 bg-card/95 backdrop-blur-md border border-border/50 rounded-lg shadow-lg max-h-80 overflow-y-auto",children:h.map(a=>(0,b.jsxs)("button",{onClick:()=>L(a),className:"w-full px-4 py-3 text-left hover:bg-primary/10 transition-colors flex items-center gap-3 border-b border-border/30 last:border-b-0",children:[(0,b.jsx)("img",{src:`https://cdn.nba.com/headshots/nba/latest/260x190/${a.id}.png`,alt:a.full_name,className:"w-12 h-12 rounded-full object-cover",onError:b=>{let c=b.target;c.style.display="none";let d=c.parentElement;if(d){let b=document.createElement("div");b.className="w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-sm",b.textContent=O(a.full_name),d.insertBefore(b,c)}}}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.full_name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.team_abbreviation||"NBA",a.is_active?" â€¢ Active":" â€¢ Inactive"]})]})]},a.id))})]})]}),l&&(0,b.jsxs)("div",{className:"bg-card/50 backdrop-blur-sm rounded-xl shadow-md border border-border/50 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,b.jsx)("img",{src:`https://cdn.nba.com/headshots/nba/latest/260x190/${l.id}.png`,alt:l.full_name,className:"w-20 h-20 rounded-lg object-cover border-2 border-blue-200",onError:a=>{let b=a.target;b.style.display="none";let c=b.parentElement;if(c){let a=document.createElement("div");a.className="w-20 h-20 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-xl border-2 border-blue-200",a.textContent=O(l.full_name),c.insertBefore(a,b)}}}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-foreground",children:l.full_name}),(0,b.jsx)("p",{className:"text-muted-foreground",children:l.team_abbreviation||"NBA"})]})]}),D?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h4",{className:"font-semibold text-foreground mb-3",children:"2024-25 Season Averages"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,b.jsxs)("div",{className:"bg-primary/10 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Points"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:n.seasonAverage.points.toFixed(1)})]}),(0,b.jsxs)("div",{className:"bg-green-500/10 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Rebounds"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-green-600",children:n.seasonAverage.rebounds.toFixed(1)})]}),(0,b.jsxs)("div",{className:"bg-purple-500/10 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Assists"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:n.seasonAverage.assists.toFixed(1)})]}),(0,b.jsxs)("div",{className:"bg-orange-500/10 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Steals"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:n.seasonAverage.steals.toFixed(1)})]}),(0,b.jsxs)("div",{className:"bg-red-500/10 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Blocks"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-red-600",children:n.seasonAverage.blocks.toFixed(1)})]})]})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h4",{className:"font-semibold text-foreground mb-3",children:"Last 10 Games"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{className:"bg-secondary/30",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-muted-foreground uppercase",children:"Date"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-muted-foreground uppercase",children:"Opp"}),(0,b.jsx)("th",{className:"px-3 py-2 text-center text-xs font-medium text-muted-foreground uppercase",children:"PTS"}),(0,b.jsx)("th",{className:"px-3 py-2 text-center text-xs font-medium text-muted-foreground uppercase",children:"REB"}),(0,b.jsx)("th",{className:"px-3 py-2 text-center text-xs font-medium text-muted-foreground uppercase",children:"AST"}),(0,b.jsx)("th",{className:"px-3 py-2 text-center text-xs font-medium text-muted-foreground uppercase",children:"STL"}),(0,b.jsx)("th",{className:"px-3 py-2 text-center text-xs font-medium text-muted-foreground uppercase",children:"BLK"}),(0,b.jsx)("th",{className:"px-3 py-2 text-center text-xs font-medium text-muted-foreground uppercase",children:"MIN"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200",children:n.recentGames.slice(0,10).map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-secondary/30",children:[(0,b.jsx)("td",{className:"px-3 py-2 text-foreground",children:a.date}),(0,b.jsx)("td",{className:"px-3 py-2 text-foreground",children:a.opponent}),(0,b.jsx)("td",{className:"px-3 py-2 text-center font-medium text-foreground",children:a.points}),(0,b.jsx)("td",{className:"px-3 py-2 text-center text-foreground",children:a.rebounds}),(0,b.jsx)("td",{className:"px-3 py-2 text-center text-foreground",children:a.assists}),(0,b.jsx)("td",{className:"px-3 py-2 text-center text-foreground",children:a.steals}),(0,b.jsx)("td",{className:"px-3 py-2 text-center text-foreground",children:a.blocks}),(0,b.jsx)("td",{className:"px-3 py-2 text-center text-foreground",children:a.minutes})]},c))})]})})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h4",{className:"font-semibold text-foreground mb-3",children:"Select Prop Type"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:d.map(a=>(0,b.jsx)("button",{onClick:()=>{q(a.value),w(null),y(null)},className:`px-4 py-3 rounded-lg font-medium transition-colors ${p===a.value?"bg-blue-600 text-white":"bg-secondary text-muted-foreground hover:bg-secondary"}`,children:a.label},a.value))})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h4",{className:"font-semibold text-foreground mb-3",children:"Set Threshold"}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"flex-shrink-0",children:[(0,b.jsx)("label",{className:"block text-sm text-muted-foreground mb-2",children:"Direction"}),(0,b.jsxs)("div",{className:"inline-flex rounded-lg border border-border overflow-hidden",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{u("over"),y(null)},className:`px-6 py-3 font-medium transition-colors ${"over"===t?"bg-green-600 text-white":"bg-white text-muted-foreground hover:bg-secondary/30"}`,children:"Over"}),(0,b.jsx)("button",{type:"button",onClick:()=>{u("under"),y(null)},className:`px-6 py-3 font-medium transition-colors border-l border-border ${"under"===t?"bg-red-600 text-white":"bg-white text-muted-foreground hover:bg-secondary/30"}`,children:"Under"})]})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("label",{className:"block text-sm text-muted-foreground mb-2",children:[d.find(a=>a.value===p)?.label," Value"]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"number",value:r,onChange:a=>{s(a.target.value),w(null),y(null)},onBlur:()=>{r&&M(r)},placeholder:`Enter ${p} threshold (e.g., ${"points"===p?"25.5":"rebounds"===p?"10.5":"assists"===p?"8.5":"minutes"===p?"35":"2.5"})`,step:"0.5",min:"0",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:border-transparent ${v?"border-red-300 focus:ring-red-500":"border-border focus:ring-blue-500"}`}),r&&(0,b.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm font-medium text-muted-foreground",children:d.find(a=>a.value===p)?.label})]}),v&&(0,b.jsxs)("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[(0,b.jsx)("span",{children:"âš ï¸"}),v]}),r&&!v&&(0,b.jsxs)("p",{className:"mt-2 text-sm text-muted-foreground",children:["Predicting: ",(0,b.jsx)("span",{className:"font-semibold",children:l.full_name})," will score"," ",(0,b.jsxs)("span",{className:`font-bold ${"over"===t?"text-green-600":"text-red-600"}`,children:[t," ",r]})," ",p]})]})]})]}),(0,b.jsx)("button",{onClick:N,disabled:z||!r,className:"w-full px-6 py-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:z?(0,b.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Generating AI Prediction..."]}):r?`ðŸ¤– Generate AI Prediction: ${t.charAt(0).toUpperCase()+t.slice(1)} ${r}`:"âš ï¸ Enter Threshold Value to Continue"})]}):null]}),B&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,b.jsxs)("p",{className:"text-red-800",children:["âš ï¸ ",B]})}),x&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg shadow-lg p-6 border-2 border-blue-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("span",{className:"text-3xl",children:"ðŸŽ¯"}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-foreground",children:"AI Prediction"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[x.threshold&&x.overUnder&&(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border-l-4 ${   prediction.overUnder === 'over' ? 'border-green-500' : 'border-red-500'   }",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Prop Bet"}),(0,b.jsxs)("p",{className:"text-lg font-bold text-foreground",children:[x.playerName," - ",d.find(a=>a.value===x.propType)?.label]}),(0,b.jsxs)("p",{className:"text-2xl font-bold ${   prediction.overUnder === 'over' ? 'text-green-600' : 'text-red-600'   } mt-1",children:[x.overUnder.toUpperCase()," ",x.threshold]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"AI Recommendation"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:x.prediction}),x.projectedValue&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Projected Value: ",x.projectedValue.toFixed(1)," ",x.propType]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Confidence Level"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex-1 bg-secondary rounded-full h-3",children:(0,b.jsx)("div",{className:`h-3 rounded-full ${"High"===x.confidence?"bg-green-600":"Medium"===x.confidence?"bg-yellow-600":"bg-orange-600"}`,style:{width:"High"===x.confidence?"90%":"Medium"===x.confidence?"65%":"40%"}})}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${"High"===x.confidence?"bg-green-100 text-green-800":"Medium"===x.confidence?"bg-yellow-100 text-yellow-800":"bg-orange-100 text-orange-800"}`,children:x.confidence})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Analysis"}),(0,b.jsx)("p",{className:"text-foreground",children:x.reasoning})]}),x.statsUsed&&x.statsUsed.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Key Statistics"}),(0,b.jsx)("ul",{className:"space-y-1",children:x.statsUsed.map((a,c)=>(0,b.jsxs)("li",{className:"text-sm text-muted-foreground",children:["â€¢ ",a]},c))})]})]}),(0,b.jsx)("div",{className:"mt-6 border-t border-border/50 pt-4",children:(0,b.jsx)(f.default,{context:{type:"player-prop",originalPrediction:x,stats:n}})})]})]})}function j(){let[a,d]=(0,c.useState)("upcoming"),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)({}),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)(null),[S,T]=(0,c.useState)(!1),U=(0,c.useRef)(null),V=(0,c.useRef)(null),W=(0,c.useRef)(null),X=(0,c.useRef)(null);(0,c.useEffect)(()=>{if(X.current&&clearTimeout(X.current),g.trim().length<2){j([]),n(!1);return}return n(!0),X.current=setTimeout(async()=>{try{let a=await fetch(`/api/google-upcoming-games?team=${encodeURIComponent(g)}`),b=await a.json();b.success&&b.games&&b.games.length>0?(j(b.games),l(!0),r(b.source||"google")):j([])}catch(a){console.error("Error fetching upcoming games from Google:",a),j([])}finally{n(!1)}},300),()=>{X.current&&clearTimeout(X.current)}},[g]),(0,c.useEffect)(()=>{(async()=>{T(!0);try{let[a,b]=await Promise.all([fetch("/api/teams-list"),fetch("/api/team-stats?season=2024-25")]),c=await a.json(),d=await b.json();if(c.success&&x(c.teams),d.success){let a={};d.teams.forEach(b=>{a[b.teamId]=b}),L(a)}}catch(a){console.error("Error loading teams:",a)}finally{T(!1)}})()},[]),(0,c.useEffect)(()=>{s.trim().length<2?z([]):(z(w.filter(a=>a.full_name.toLowerCase().includes(s.toLowerCase())||a.abbreviation.toLowerCase().includes(s.toLowerCase())||a.city.toLowerCase().includes(s.toLowerCase())).slice(0,8)),D(!0))},[s,w]),(0,c.useEffect)(()=>{u.trim().length<2?B([]):(B(w.filter(a=>a.full_name.toLowerCase().includes(u.toLowerCase())||a.abbreviation.toLowerCase().includes(u.toLowerCase())||a.city.toLowerCase().includes(u.toLowerCase())).slice(0,8)),F(!0))},[u,w]),(0,c.useEffect)(()=>{let a=a=>{U.current&&!U.current.contains(a.target)&&l(!1),V.current&&!V.current.contains(a.target)&&D(!1),W.current&&!W.current.contains(a.target)&&F(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let Y=async(a,b)=>{let c=w.find(b=>b.full_name.toLowerCase().includes(a.full_name.toLowerCase())||a.full_name.toLowerCase().includes(b.full_name.toLowerCase())),d=w.find(a=>a.full_name.toLowerCase().includes(b.full_name.toLowerCase())||b.full_name.toLowerCase().includes(a.full_name.toLowerCase()));c&&H(c),d&&J(d)},Z=async()=>{if(!G||!I)return;let a=K[G.id],b=K[I.id];if(!a||!b)return void R("Team statistics not available");P(!0),R(null);try{let c=o?{status:o.status,team1Score:o.team1.score,team2Score:o.team2.score,venue:o.venue}:void 0,d=await fetch("/api/ai-predict-game",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({team1:G.full_name,team2:I.full_name,team1Stats:a,team2Stats:b,gameDate:o?`${o.date} ${o.time}`:void 0,liveScore:c})}),f=await d.json();f.success?(N(f),(0,e.logQuery)({query_type:"AI Prediction - Game Outcome",details:{timestamp:new Date().toISOString(),team1:G.full_name,team2:I.full_name,winner:f.winner,scorePrediction:f.scorePrediction,winProbability:f.winProbability,confidence:f.confidence,reasoning:f.reasoning,keyFactors:f.keyFactors,gameDate:o?`${o.date} ${o.time}`:void 0,liveScore:c}})):R(f.error||"Failed to generate prediction")}catch(a){R("Error generating prediction")}finally{P(!1)}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-card/50 backdrop-blur-sm rounded-xl shadow-md border border-border/50 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Select Input Method"}),(0,b.jsxs)("div",{className:"inline-flex rounded-lg border border-border overflow-hidden",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{d("upcoming"),N(null),R(null)},className:`px-6 py-3 font-medium transition-colors ${"upcoming"===a?"bg-purple-600 text-white":"bg-white text-muted-foreground hover:bg-secondary/30"}`,children:"ðŸ“… Search Upcoming Games"}),(0,b.jsx)("button",{type:"button",onClick:()=>{d("manual"),N(null),R(null)},className:`px-6 py-3 font-medium transition-colors border-l border-border ${"manual"===a?"bg-green-600 text-white":"bg-card text-muted-foreground hover:bg-secondary/30"}`,children:"âœï¸ Manual Team Entry"})]})]}),"upcoming"===a&&(0,b.jsxs)("div",{className:"bg-card/50 backdrop-blur-sm rounded-xl shadow-md border border-border/50 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-purple-900",children:"ðŸ€ Find Upcoming Game"}),q&&(0,b.jsxs)("span",{className:"text-xs px-2 py-1 bg-secondary text-muted-foreground rounded",children:["Source: ","google_serpapi"===q?"Google API":"sample_data"===q?"Demo":q]})]}),(0,b.jsxs)("div",{ref:U,className:"relative",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",value:g,onChange:a=>h(a.target.value),onFocus:()=>i.length>0&&l(!0),placeholder:"Search by team name (e.g., Lakers, Celtics)...",className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent pr-10"}),m&&(0,b.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"})})]}),k&&i.length>0&&(0,b.jsx)("div",{className:"absolute z-10 w-full mt-2 bg-card/95 backdrop-blur-md border border-border/50 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:i.map(a=>(0,b.jsxs)("button",{onClick:()=>{let b,c;return p(a),h(`${a.team1.name} vs ${a.team2.name}`),l(!1),b={id:0,full_name:a.team1.name,abbreviation:a.team1.name.split(" ").pop()||a.team1.name,nickname:a.team1.name,city:a.team1.name,logo_url:a.team1.logo_url},c={id:0,full_name:a.team2.name,abbreviation:a.team2.name.split(" ").pop()||a.team2.name,nickname:a.team2.name,city:a.team2.name,logo_url:a.team2.logo_url},void(H(b),J(c),N(null),R(null),Y(b,c))},className:`w-full px-4 py-4 text-left hover:bg-primary/10 transition-colors border-b border-border/30 last:border-b-0 ${"live"===a.status?"bg-destructive/10":""}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,b.jsx)("img",{src:a.team1.logo_url,alt:a.team1.name,className:"w-10 h-10 object-contain",onError:a=>{a.target.style.display="none"}}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.team1.name}),void 0!==a.team1.score&&(0,b.jsx)("p",{className:"text-lg font-bold text-purple-600",children:a.team1.score})]})]}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("span",{className:"text-sm font-bold text-muted-foreground",children:"VS"})}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.team2.name}),void 0!==a.team2.score&&(0,b.jsx)("p",{className:"text-lg font-bold text-purple-600",children:a.team2.score})]}),(0,b.jsx)("img",{src:a.team2.logo_url,alt:a.team2.name,className:"w-10 h-10 object-contain",onError:a=>{a.target.style.display="none"}})]})]}),(0,b.jsxs)("div",{className:"mt-2 text-xs text-muted-foreground text-center",children:[a.date," ",a.time&&`â€¢ ${a.time}`,"live"===a.status&&(0,b.jsx)("span",{className:"ml-2 text-red-600 font-bold",children:"â— LIVE"}),"final"===a.status&&(0,b.jsx)("span",{className:"ml-2 text-muted-foreground font-bold",children:"FINAL"})]})]},a.game_id))}),g.trim().length>=2&&0===i.length&&!m&&(0,b.jsx)("div",{className:"absolute z-10 w-full mt-2 bg-card/95 backdrop-blur-md border border-border/50 rounded-lg shadow-lg p-4",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No upcoming games found. Try searching for a different team."})})]})]}),"manual"===a&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-card/50 backdrop-blur-sm rounded-xl shadow-md border border-border/50 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-purple-900 mb-4",children:"Team 1"}),(0,b.jsxs)("div",{ref:V,className:"relative",children:[(0,b.jsx)("input",{type:"text",value:s,onChange:a=>t(a.target.value),onFocus:()=>y.length>0&&D(!0),placeholder:"Search for a team...",className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),C&&y.length>0&&(0,b.jsx)("div",{className:"absolute z-10 w-full mt-2 bg-card/95 backdrop-blur-md border border-border/50 rounded-lg shadow-lg max-h-80 overflow-y-auto",children:y.map(a=>(0,b.jsxs)("button",{onClick:()=>{H(a),t(a.full_name),D(!1),N(null),R(null)},className:"w-full px-4 py-3 text-left hover:bg-primary/10 transition-colors border-b border-border/30 last:border-b-0",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.full_name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.abbreviation})]},a.id))})]})]}),(0,b.jsxs)("div",{className:"bg-card/50 backdrop-blur-sm rounded-xl shadow-md border border-border/50 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-green-900 mb-4",children:"Team 2"}),(0,b.jsxs)("div",{ref:W,className:"relative",children:[(0,b.jsx)("input",{type:"text",value:u,onChange:a=>v(a.target.value),onFocus:()=>A.length>0&&F(!0),placeholder:"Search for a team...",className:"w-full px-4 py-3 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),E&&A.length>0&&(0,b.jsx)("div",{className:"absolute z-10 w-full mt-2 bg-card/95 backdrop-blur-md border border-border/50 rounded-lg shadow-lg max-h-80 overflow-y-auto",children:A.map(a=>(0,b.jsxs)("button",{onClick:()=>{J(a),v(a.full_name),F(!1),N(null),R(null)},className:"w-full px-4 py-3 text-left hover:bg-primary/10 transition-colors border-b border-border/30 last:border-b-0",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.full_name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.abbreviation})]},a.id))})]})]})]}),o&&"upcoming"===a&&(0,b.jsxs)("div",{className:`bg-card/50 backdrop-blur-sm rounded-xl shadow-md p-6 border ${"live"===o.status?"border-destructive/50":"final"===o.status?"border-border/50":"border-primary/50"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"ðŸŽ¯ Selected Game"}),"live"===o.status&&(0,b.jsx)("span",{className:"animate-pulse px-3 py-1 bg-red-600 text-white text-sm font-bold rounded",children:"â— LIVE"}),"final"===o.status&&(0,b.jsx)("span",{className:"px-3 py-1 bg-gray-600 text-white text-sm font-bold rounded",children:"FINAL"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-8",children:[(0,b.jsxs)("div",{className:"text-center flex-1",children:[(0,b.jsx)("img",{src:o.team1.logo_url,alt:o.team1.name,className:"w-24 h-24 mx-auto object-contain mb-2",onError:a=>{a.target.style.display="none"}}),(0,b.jsx)("p",{className:"font-bold text-foreground text-lg",children:o.team1.name}),void 0!==o.team1.score&&(0,b.jsx)("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:o.team1.score})]}),(0,b.jsx)("div",{className:"text-center",children:"live"===o.status?(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-2xl font-bold text-red-600",children:"VS"}),(0,b.jsx)("p",{className:"text-xs text-red-600 mt-1 animate-pulse",children:"LIVE NOW"})]}):"final"===o.status?(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-2xl font-bold text-muted-foreground",children:"VS"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"FINAL"})]}):(0,b.jsx)("span",{className:"text-3xl font-bold text-purple-600",children:"VS"})}),(0,b.jsxs)("div",{className:"text-center flex-1",children:[(0,b.jsx)("img",{src:o.team2.logo_url,alt:o.team2.name,className:"w-24 h-24 mx-auto object-contain mb-2",onError:a=>{a.target.style.display="none"}}),(0,b.jsx)("p",{className:"font-bold text-foreground text-lg",children:o.team2.name}),void 0!==o.team2.score&&(0,b.jsx)("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:o.team2.score})]})]}),(0,b.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Date"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-foreground",children:o.date})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Time"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-foreground",children:o.time||"TBD"})]}),o.venue&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Venue"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-foreground",children:o.venue})]})]})]}),G&&I&&K[G.id]&&K[I.id]&&(0,b.jsxs)("div",{className:"bg-card/50 backdrop-blur-sm rounded-xl shadow-md border border-border/50 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Team Statistics Comparison"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-purple-900",children:G.full_name}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:[K[G.id].wins,"-",K[G.id].losses]})]}),(0,b.jsxs)("div",{className:"bg-purple-500/10 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"PPG"}),(0,b.jsx)("p",{className:"text-xl font-bold text-purple-600",children:K[G.id].pointsPerGame.toFixed(1)})]}),(0,b.jsxs)("div",{className:"bg-purple-500/10 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Opp PPG"}),(0,b.jsx)("p",{className:"text-xl font-bold text-purple-600",children:K[G.id].pointsAllowed.toFixed(1)})]}),(0,b.jsxs)("div",{className:"bg-purple-500/10 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"FG%"}),(0,b.jsxs)("p",{className:"text-xl font-bold text-purple-600",children:[K[G.id].fieldGoalPct.toFixed(1),"%"]})]}),(0,b.jsxs)("div",{className:"bg-purple-500/10 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"3P%"}),(0,b.jsxs)("p",{className:"text-xl font-bold text-purple-600",children:[K[G.id].threePointPct.toFixed(1),"%"]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-green-900",children:I.full_name}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:[K[I.id].wins,"-",K[I.id].losses]})]}),(0,b.jsxs)("div",{className:"bg-green-500/10 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"PPG"}),(0,b.jsx)("p",{className:"text-xl font-bold text-green-600",children:K[I.id].pointsPerGame.toFixed(1)})]}),(0,b.jsxs)("div",{className:"bg-green-500/10 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Opp PPG"}),(0,b.jsx)("p",{className:"text-xl font-bold text-green-600",children:K[I.id].pointsAllowed.toFixed(1)})]}),(0,b.jsxs)("div",{className:"bg-green-500/10 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"FG%"}),(0,b.jsxs)("p",{className:"text-xl font-bold text-green-600",children:[K[I.id].fieldGoalPct.toFixed(1),"%"]})]}),(0,b.jsxs)("div",{className:"bg-green-500/10 rounded-lg p-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"3P%"}),(0,b.jsxs)("p",{className:"text-xl font-bold text-green-600",children:[K[I.id].threePointPct.toFixed(1),"%"]})]})]})]}),(0,b.jsx)("button",{onClick:Z,disabled:O,className:"w-full mt-6 px-6 py-4 bg-gradient-to-r from-purple-600 to-green-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-green-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:O?(0,b.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Generating AI Prediction..."]}):"ðŸ¤– Generate AI Prediction"})]}),Q&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,b.jsxs)("p",{className:"text-red-800",children:["âš ï¸ ",Q]})}),M&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-green-50 rounded-lg shadow-lg p-6 border-2 border-purple-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("span",{className:"text-3xl",children:"ðŸ†"}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-foreground",children:"AI Prediction"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Predicted Winner"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:M.winner}),M.scorePrediction&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Score: ",M.scorePrediction]})]}),M.winProbability&&(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Win Probability"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex-1 bg-secondary rounded-full h-3",children:(0,b.jsx)("div",{className:"h-3 rounded-full bg-gradient-to-r from-purple-600 to-green-600",style:{width:`${M.winProbability}%`}})}),(0,b.jsxs)("span",{className:"text-lg font-bold text-foreground",children:[M.winProbability,"%"]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Confidence Level"}),(0,b.jsx)("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${"High"===M.confidence?"bg-green-100 text-green-800":"Medium"===M.confidence?"bg-yellow-100 text-yellow-800":"bg-orange-100 text-orange-800"}`,children:M.confidence})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Analysis"}),(0,b.jsx)("p",{className:"text-foreground",children:M.reasoning})]}),M.keyFactors&&M.keyFactors.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Key Factors"}),(0,b.jsx)("ul",{className:"space-y-1",children:M.keyFactors.map((a,c)=>(0,b.jsxs)("li",{className:"text-sm text-muted-foreground",children:["â€¢ ",a]},c))})]})]}),(0,b.jsx)("div",{className:"mt-6 border-t border-border/50 pt-4",children:(0,b.jsx)(f.default,{context:{type:"game-outcome",originalPrediction:M,stats:{team1:G?K[G.id]:null,team2:I?K[I.id]:null}}})})]})]})}a.s(["default",()=>h],76032)}];

//# sourceMappingURL=app_dashboard_ai-prediction_page_tsx_e97a2cc9._.js.map