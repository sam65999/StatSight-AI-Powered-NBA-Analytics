{"version":3,"sources":["turbopack:///[project]/app/dashboard/query-history/page.tsx","turbopack:///[project]/components/QueryDetailsModal.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport QueryDetailsModal from '@/components/QueryDetailsModal'\nimport type { Query, QueryType, QueryAnalytics, QueriesListResponse } from '@/types/query'\n\nexport default function QueryHistoryPage() {\n  const [allQueries, setAllQueries] = useState<Query[]>([])\n  const [filteredQueries, setFilteredQueries] = useState<Query[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [selectedQuery, setSelectedQuery] = useState<Query | null>(null)\n  const [isModalOpen, setIsModalOpen] = useState(false)\n  const [filter, setFilter] = useState<QueryType | 'all'>('all')\n  const [analytics, setAnalytics] = useState<QueryAnalytics | null>(null)\n\n  // Fetch all queries once on mount\n  useEffect(() => {\n    fetchAllQueries()\n  }, [])\n\n  // Filter queries when filter changes\n  useEffect(() => {\n    if (allQueries.length > 0) {\n      applyFilter()\n    }\n  }, [filter, allQueries])\n\n  // Fetch all queries from the database (no filter)\n  const fetchAllQueries = async () => {\n    setLoading(true)\n    setError(null)\n\n    try {\n      const response = await fetch('/api/queries?limit=100')\n      const data: QueriesListResponse = await response.json()\n\n      if (!response.ok || !data.success) {\n        throw new Error(data.error || 'Failed to fetch queries')\n      }\n\n      // Store all queries for count calculations\n      setAllQueries(data.queries)\n      // Calculate analytics from ALL queries\n      calculateAnalytics(data.queries)\n      // Apply current filter for display\n      applyFilterToQueries(data.queries, filter)\n    } catch (err) {\n      console.error('Error fetching queries:', err)\n      setError(err instanceof Error ? err.message : 'Failed to load query history')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Apply filter to queries for display (client-side filtering)\n  const applyFilter = () => {\n    applyFilterToQueries(allQueries, filter)\n  }\n\n  // Helper function to filter queries\n  const applyFilterToQueries = (queries: Query[], filterType: QueryType | 'all') => {\n    if (filterType === 'all') {\n      setFilteredQueries(queries)\n    } else {\n      const filtered = queries.filter(q => q.query_type === filterType)\n      setFilteredQueries(filtered)\n    }\n  }\n\n  const calculateAnalytics = (queryList: Query[]) => {\n    if (queryList.length === 0) {\n      setAnalytics(null)\n      return\n    }\n\n    const typeCounts: Record<QueryType, number> = {\n      'AI Prediction - Player Prop': 0,\n      'AI Prediction - Game Outcome': 0,\n      'Player Stats': 0,\n      'Player Comparison': 0\n    }\n\n    queryList.forEach(q => {\n      typeCounts[q.query_type] = (typeCounts[q.query_type] || 0) + 1\n    })\n\n    const mostCommonType = Object.entries(typeCounts)\n      .reduce((a, b) => (b[1] > a[1] ? b : a))[0] as QueryType\n\n    const mostRecentDate = queryList[0]?.created_at\n\n    setAnalytics({\n      totalQueries: queryList.length,\n      mostRecentDate,\n      mostCommonType,\n      queryTypeCounts: typeCounts\n    })\n  }\n\n  const handleViewDetails = (query: Query) => {\n    setSelectedQuery(query)\n    setIsModalOpen(true)\n  }\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString)\n    const now = new Date()\n    const diffMs = now.getTime() - date.getTime()\n    const diffMins = Math.floor(diffMs / 60000)\n    const diffHours = Math.floor(diffMs / 3600000)\n    const diffDays = Math.floor(diffMs / 86400000)\n\n    if (diffMins < 1) return 'Just now'\n    if (diffMins < 60) return `${diffMins} min${diffMins > 1 ? 's' : ''} ago`\n    if (diffHours < 24) return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`\n    if (diffDays < 7) return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`\n\n    return date.toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: date.getFullYear() !== now.getFullYear() ? 'numeric' : undefined\n    })\n  }\n\n  const getQueryTypeColor = (type: QueryType) => {\n    switch (type) {\n      case 'AI Prediction - Player Prop':\n        return 'bg-primary/100 text-blue-800 border-blue-200'\n      case 'AI Prediction - Game Outcome':\n        return 'bg-purple-100 text-purple-800 border-purple-200'\n      case 'Player Stats':\n        return 'bg-green-100 text-foreground border-border/50'\n      case 'Player Comparison':\n        return 'bg-orange-100 text-orange-800 border-orange-200'\n    }\n  }\n\n  const getQueryIcon = (type: QueryType) => {\n    switch (type) {\n      case 'AI Prediction - Player Prop':\n        return 'üéØ'\n      case 'AI Prediction - Game Outcome':\n        return 'üèÜ'\n      case 'Player Stats':\n        return 'üìä'\n      case 'Player Comparison':\n        return '‚öñÔ∏è'\n    }\n  }\n\n  const getQuerySummary = (query: Query): string => {\n    switch (query.query_type) {\n      case 'AI Prediction - Player Prop':\n        const propDetails = query.details as any\n        return `${propDetails.playerName} - ${propDetails.overUnder} ${propDetails.threshold} ${propDetails.propType}`\n      case 'AI Prediction - Game Outcome':\n        const gameDetails = query.details as any\n        return `${gameDetails.team1} vs ${gameDetails.team2}`\n      case 'Player Stats':\n        const statsDetails = query.details as any\n        return `${statsDetails.playerName} (${statsDetails.team})`\n      case 'Player Comparison':\n        const compDetails = query.details as any\n        return `${compDetails.player1.name} vs ${compDetails.player2.name}`\n      default:\n        return 'Unknown query'\n    }\n  }\n\n  const filterButtons: Array<{ value: QueryType | 'all'; label: string }> = [\n    { value: 'all', label: 'All' },\n    { value: 'AI Prediction - Player Prop', label: 'Player Props' },\n    { value: 'AI Prediction - Game Outcome', label: 'Game Predictions' },\n    { value: 'Player Stats', label: 'Player Stats' },\n    { value: 'Player Comparison', label: 'Comparisons' }\n  ]\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[60vh]\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-muted-foreground\">Loading your query history...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-2xl font-bold text-foreground\">Query History</h1>\n        <p className=\"text-muted-foreground mt-1\">View all your past predictions, searches, and comparisons</p>\n      </div>\n\n      {/* Analytics Summary */}\n      {analytics && (\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"bg-card/50 backdrop-blur-sm rounded-xl shadow-md border border-border/50 p-6\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-12 h-12 bg-primary/100 rounded-lg flex items-center justify-center\">\n                <span className=\"text-2xl\">üìà</span>\n              </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Total Queries</p>\n                <p className=\"text-2xl font-bold text-foreground\">{analytics.totalQueries}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-card/50 backdrop-blur-sm rounded-xl shadow-md border border-border/50 p-6\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\n                <span className=\"text-2xl\">üïê</span>\n              </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Most Recent</p>\n                <p className=\"text-lg font-semibold text-foreground\">\n                  {formatDate(analytics.mostRecentDate!)}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-card/50 backdrop-blur-sm rounded-xl shadow-md border border-border/50 p-6\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\n                <span className=\"text-2xl\">{getQueryIcon(analytics.mostCommonType!)}</span>\n              </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Most Common</p>\n                <p className=\"text-sm font-semibold text-foreground\">\n                  {analytics.mostCommonType === 'AI Prediction - Player Prop' ? 'Player Props' :\n                   analytics.mostCommonType === 'AI Prediction - Game Outcome' ? 'Game Predictions' :\n                   analytics.mostCommonType === 'Player Comparison' ? 'Comparisons' : 'Player Stats'}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Filter Buttons */}\n      <div className=\"bg-card/50 backdrop-blur-sm rounded-xl shadow-md border border-border/50 p-4\">\n        <div className=\"flex flex-wrap gap-2\">\n          {filterButtons.map((btn) => (\n            <button\n              key={btn.value}\n              onClick={() => setFilter(btn.value)}\n              className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                filter === btn.value\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-secondary text-muted-foreground hover:bg-secondary/300'\n              }`}\n            >\n              {btn.label}\n              {btn.value !== 'all' && analytics && (\n                <span className=\"ml-2 text-xs opacity-75\">\n                  ({analytics.queryTypeCounts[btn.value as QueryType] || 0})\n                </span>\n              )}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Error State */}\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <p className=\"text-red-800\">‚ö†Ô∏è {error}</p>\n          <button\n            onClick={fetchAllQueries}\n            className=\"mt-2 text-sm text-red-600 hover:text-red-700 font-medium underline\"\n          >\n            Try again\n          </button>\n        </div>\n      )}\n\n      {/* Queries List */}\n      {!error && filteredQueries.length === 0 ? (\n        <div className=\"bg-card/50 backdrop-blur-sm rounded-xl shadow-md border border-border/50 p-12 text-center\">\n          <div className=\"w-20 h-20 bg-secondary rounded-full flex items-center justify-center mx-auto mb-4\">\n            <span className=\"text-4xl\">üìã</span>\n          </div>\n          <h3 className=\"text-xl font-semibold text-foreground mb-2\">No queries yet</h3>\n          <p className=\"text-muted-foreground mb-6\">\n            Start using AI Predictions, Player Stats, or Player Comparison to see your history here\n          </p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 gap-4\">\n          {filteredQueries.map((query) => (\n            <div\n              key={query.id}\n              className=\"bg-card/50 backdrop-blur-sm rounded-xl shadow-md border border-border/50 hover:shadow-lg transition-shadow p-5 border-l-4 border-blue-500\"\n            >\n              <div className=\"flex items-start justify-between gap-4\">\n                <div className=\"flex-1\">\n                  {/* Query Type Badge */}\n                  <span className={`inline-block px-3 py-1 rounded-full text-xs font-semibold border ${getQueryTypeColor(query.query_type)} mb-3`}>\n                    {getQueryIcon(query.query_type)} {query.query_type}\n                  </span>\n\n                  {/* Query Summary */}\n                  <h3 className=\"text-lg font-semibold text-foreground mb-2\">\n                    {getQuerySummary(query)}\n                  </h3>\n\n                  {/* Timestamp */}\n                  <p className=\"text-sm text-muted-foreground\">\n                    {formatDate(query.created_at)}\n                  </p>\n                </div>\n\n                {/* View Details Button */}\n                <button\n                  onClick={() => handleViewDetails(query)}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium whitespace-nowrap\"\n                >\n                  View Details\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Details Modal */}\n      <QueryDetailsModal\n        query={selectedQuery}\n        isOpen={isModalOpen}\n        onClose={() => {\n          setIsModalOpen(false)\n          setSelectedQuery(null)\n        }}\n      />\n    </div>\n  )\n}\n","'use client'\r\n\r\nimport { useState } from 'react'\r\nimport type { \r\n  Query, \r\n  PlayerPropQueryDetails, \r\n  GameOutcomeQueryDetails, \r\n  PlayerStatsQueryDetails, \r\n  PlayerComparisonQueryDetails \r\n} from '@/types/query'\r\n\r\ninterface QueryDetailsModalProps {\r\n  query: Query | null\r\n  isOpen: boolean\r\n  onClose: () => void\r\n}\r\n\r\nexport default function QueryDetailsModal({ query, isOpen, onClose }: QueryDetailsModalProps) {\r\n  const [showRawJSON, setShowRawJSON] = useState(false)\r\n\r\n  if (!isOpen || !query) return null\r\n\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString)\r\n    return date.toLocaleString('en-US', {\r\n      month: 'long',\r\n      day: 'numeric',\r\n      year: 'numeric',\r\n      hour: 'numeric',\r\n      minute: '2-digit',\r\n      hour12: true\r\n    })\r\n  }\r\n\r\n  const getQueryTypeColor = (type: string) => {\r\n    switch (type) {\r\n      case 'AI Prediction - Player Prop':\r\n        return 'bg-blue-100 text-blue-800'\r\n      case 'AI Prediction - Game Outcome':\r\n        return 'bg-purple-100 text-purple-800'\r\n      case 'Player Stats':\r\n        return 'bg-green-100 text-green-800'\r\n      case 'Player Comparison':\r\n        return 'bg-orange-100 text-orange-800'\r\n      default:\r\n        return 'bg-gray-100 text-gray-800'\r\n    }\r\n  }\r\n\r\n  const getConfidenceBadge = (confidence: 'High' | 'Medium' | 'Low') => {\r\n    const colors = {\r\n      High: 'bg-green-100 text-green-800',\r\n      Medium: 'bg-yellow-100 text-yellow-800',\r\n      Low: 'bg-orange-100 text-orange-800'\r\n    }\r\n    return (\r\n      <span className={`px-3 py-1 rounded-full text-sm font-semibold ${colors[confidence]}`}>\r\n        {confidence} Confidence\r\n      </span>\r\n    )\r\n  }\r\n\r\n  const renderPlayerPropDetails = (details: PlayerPropQueryDetails) => (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <p className=\"text-sm text-muted-foreground mb-1\">Player</p>\r\n          <p className=\"font-semibold text-foreground\">{details.playerName}</p>\r\n          {details.team && <p className=\"text-sm text-muted-foreground\">{details.team}</p>}\r\n        </div>\r\n        <div>\r\n          <p className=\"text-sm text-muted-foreground mb-1\">Prop Type</p>\r\n          <p className=\"font-semibold text-foreground capitalize\">{details.propType}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-primary/10 rounded-lg p-4\">\r\n        <p className=\"text-sm text-muted-foreground mb-1\">Prediction</p>\r\n        <p className=\"text-xl font-bold text-foreground\">\r\n          {details.overUnder.toUpperCase()} {details.threshold} {details.propType}\r\n        </p>\r\n        {details.projectedValue && (\r\n          <p className=\"text-sm text-muted-foreground mt-1\">\r\n            Projected: {details.projectedValue.toFixed(1)} {details.propType}\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <p className=\"text-sm text-muted-foreground mb-2\">AI Recommendation</p>\r\n        <p className=\"text-lg font-semibold text-blue-600\">{details.prediction}</p>\r\n      </div>\r\n\r\n      <div>\r\n        <p className=\"text-sm text-muted-foreground mb-2\">Confidence</p>\r\n        {getConfidenceBadge(details.confidence)}\r\n      </div>\r\n\r\n      <div>\r\n        <p className=\"text-sm text-muted-foreground mb-2\">Analysis</p>\r\n        <p className=\"text-foreground leading-relaxed\">{details.reasoning}</p>\r\n      </div>\r\n\r\n      {details.statsUsed && details.statsUsed.length > 0 && (\r\n        <div>\r\n          <p className=\"text-sm text-muted-foreground mb-2\">Key Statistics Used</p>\r\n          <ul className=\"space-y-1\">\r\n            {details.statsUsed.map((stat, index) => (\r\n              <li key={index} className=\"text-sm text-muted-foreground\">‚Ä¢ {stat}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n\r\n  const renderGameOutcomeDetails = (details: GameOutcomeQueryDetails) => (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"bg-purple-500/10 rounded-lg p-4\">\r\n        <p className=\"text-sm text-muted-foreground mb-2\">Matchup</p>\r\n        <p className=\"text-xl font-bold text-foreground\">\r\n          {details.team1} vs {details.team2}\r\n        </p>\r\n        {details.gameDate && (\r\n          <p className=\"text-sm text-muted-foreground mt-1\">{details.gameDate}</p>\r\n        )}\r\n      </div>\r\n\r\n      {details.liveScore && (\r\n        <div className=\"bg-destructive/10 rounded-lg p-4 border-l-4 border-destructive\">\r\n          <p className=\"text-sm text-destructive font-semibold mb-1\">\r\n            {details.liveScore.status === 'live' ? 'üî¥ LIVE' : 'FINAL'}\r\n          </p>\r\n          <p className=\"text-foreground\">\r\n            {details.team1}: {details.liveScore.team1Score} | {details.team2}: {details.liveScore.team2Score}\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      <div>\r\n        <p className=\"text-sm text-muted-foreground mb-2\">Predicted Winner</p>\r\n        <p className=\"text-2xl font-bold text-purple-600\">{details.winner}</p>\r\n        {details.scorePrediction && (\r\n          <p className=\"text-sm text-muted-foreground mt-1\">Score: {details.scorePrediction}</p>\r\n        )}\r\n      </div>\r\n\r\n      {details.winProbability && (\r\n        <div>\r\n          <p className=\"text-sm text-muted-foreground mb-2\">Win Probability</p>\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"flex-1 bg-secondary rounded-full h-3\">\r\n              <div\r\n                className=\"h-3 rounded-full bg-gradient-to-r from-purple-600 to-purple-400\"\r\n                style={{ width: `${details.winProbability}%` }}\r\n              ></div>\r\n            </div>\r\n            <span className=\"text-lg font-bold text-foreground\">{details.winProbability}%</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div>\r\n        <p className=\"text-sm text-muted-foreground mb-2\">Confidence</p>\r\n        {getConfidenceBadge(details.confidence)}\r\n      </div>\r\n\r\n      <div>\r\n        <p className=\"text-sm text-muted-foreground mb-2\">Analysis</p>\r\n        <p className=\"text-foreground leading-relaxed\">{details.reasoning}</p>\r\n      </div>\r\n\r\n      {details.keyFactors && details.keyFactors.length > 0 && (\r\n        <div>\r\n          <p className=\"text-sm text-muted-foreground mb-2\">Key Factors</p>\r\n          <ul className=\"space-y-1\">\r\n            {details.keyFactors.map((factor, index) => (\r\n              <li key={index} className=\"text-sm text-muted-foreground\">‚Ä¢ {factor}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n\r\n  const renderPlayerStatsDetails = (details: PlayerStatsQueryDetails) => (\r\n    <div className=\"space-y-4\">\r\n      <div>\r\n        <p className=\"text-sm text-muted-foreground mb-1\">Player</p>\r\n        <p className=\"text-2xl font-bold text-foreground\">{details.playerName}</p>\r\n        <p className=\"text-muted-foreground\">{details.team}</p>\r\n        {details.position && (\r\n          <p className=\"text-sm text-muted-foreground mt-1\">{details.position}</p>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <p className=\"text-sm text-muted-foreground mb-2\">Status</p>\r\n        <span className={`px-3 py-1 rounded-full text-sm font-semibold ${\r\n          details.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\r\n        }`}>\r\n          {details.isActive ? '‚óè Active' : 'Inactive'}\r\n        </span>\r\n      </div>\r\n\r\n      {details.headlineStats && (\r\n        <div>\r\n          <p className=\"text-sm text-muted-foreground mb-3\">Headline Stats</p>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n            <div className=\"bg-primary/10 rounded-lg p-3\">\r\n              <p className=\"text-xs text-muted-foreground\">PPG</p>\r\n              <p className=\"text-xl font-bold text-blue-600\">{details.headlineStats.pts.toFixed(1)}</p>\r\n            </div>\r\n            <div className=\"bg-green-500/10 rounded-lg p-3\">\r\n              <p className=\"text-xs text-muted-foreground\">RPG</p>\r\n              <p className=\"text-xl font-bold text-green-600\">{details.headlineStats.reb.toFixed(1)}</p>\r\n            </div>\r\n            <div className=\"bg-purple-500/10 rounded-lg p-3\">\r\n              <p className=\"text-xs text-muted-foreground\">APG</p>\r\n              <p className=\"text-xl font-bold text-purple-600\">{details.headlineStats.ast.toFixed(1)}</p>\r\n            </div>\r\n            <div className=\"bg-orange-500/10 rounded-lg p-3\">\r\n              <p className=\"text-xs text-muted-foreground\">PIE</p>\r\n              <p className=\"text-xl font-bold text-orange-600\">{details.headlineStats.pie.toFixed(3)}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n\r\n  const renderPlayerComparisonDetails = (details: PlayerComparisonQueryDetails) => (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div className=\"bg-primary/10 rounded-lg p-4\">\r\n          <p className=\"text-sm text-muted-foreground mb-1\">Player 1</p>\r\n          <p className=\"text-lg font-bold text-foreground\">{details.player1.name}</p>\r\n          <p className=\"text-sm text-muted-foreground\">{details.player1.team}</p>\r\n        </div>\r\n        <div className=\"bg-green-500/10 rounded-lg p-4\">\r\n          <p className=\"text-sm text-muted-foreground mb-1\">Player 2</p>\r\n          <p className=\"text-lg font-bold text-foreground\">{details.player2.name}</p>\r\n          <p className=\"text-sm text-muted-foreground\">{details.player2.team}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <p className=\"text-sm text-muted-foreground mb-1\">Season</p>\r\n        <p className=\"font-semibold text-foreground\">{details.season}</p>\r\n      </div>\r\n\r\n      {details.comparisonStats && (\r\n        <div>\r\n          <p className=\"text-sm text-muted-foreground mb-3\">Comparison Stats</p>\r\n          <div className=\"space-y-2\">\r\n            {Object.entries(details.comparisonStats).map(([key, value]) => {\r\n              if (value && typeof value === 'object' && 'player1' in value && 'player2' in value) {\r\n                return (\r\n                  <div key={key} className=\"bg-secondary/30 rounded-lg p-3\">\r\n                    <p className=\"text-xs text-muted-foreground mb-2 capitalize\">{key}</p>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <span className=\"text-sm font-semibold text-blue-600\">\r\n                        {typeof value.player1 === 'number' ? value.player1.toFixed(1) : value.player1}\r\n                      </span>\r\n                      <span className=\"text-xs text-muted-foreground/70\">vs</span>\r\n                      <span className=\"text-sm font-semibold text-green-600\">\r\n                        {typeof value.player2 === 'number' ? value.player2.toFixed(1) : value.player2}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              }\r\n              return null\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n\r\n  const renderDetails = () => {\r\n    switch (query.query_type) {\r\n      case 'AI Prediction - Player Prop':\r\n        return renderPlayerPropDetails(query.details as PlayerPropQueryDetails)\r\n      case 'AI Prediction - Game Outcome':\r\n        return renderGameOutcomeDetails(query.details as GameOutcomeQueryDetails)\r\n      case 'Player Stats':\r\n        return renderPlayerStatsDetails(query.details as PlayerStatsQueryDetails)\r\n      case 'Player Comparison':\r\n        return renderPlayerComparisonDetails(query.details as PlayerComparisonQueryDetails)\r\n      default:\r\n        return <p className=\"text-muted-foreground\">Unknown query type</p>\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\" onClick={onClose}>\r\n      <div className=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0\">\r\n        {/* Background overlay */}\r\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity\" />\r\n\r\n        {/* Modal panel */}\r\n        <div \r\n          className=\"relative inline-block align-bottom bg-card/95 backdrop-blur-md rounded-xl border border-border/50 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full\"\r\n          onClick={(e) => e.stopPropagation()}\r\n        >\r\n          {/* Header */}\r\n          <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-xl font-bold text-white\">Query Details</h3>\r\n                <p className=\"text-sm text-blue-100 mt-1\">{formatDate(query.created_at)}</p>\r\n              </div>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"text-white hover:text-gray-200 transition-colors\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"px-6 py-6\">\r\n            {/* Query Type Badge */}\r\n            <div className=\"mb-6\">\r\n              <span className={`inline-block px-4 py-2 rounded-full text-sm font-semibold ${getQueryTypeColor(query.query_type)}`}>\r\n                {query.query_type}\r\n              </span>\r\n            </div>\r\n\r\n            {/* Main Details */}\r\n            <div className=\"mb-6\">\r\n              {renderDetails()}\r\n            </div>\r\n\r\n            {/* Raw JSON Toggle */}\r\n            <div className=\"border-t pt-4\">\r\n              <button\r\n                onClick={() => setShowRawJSON(!showRawJSON)}\r\n                className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\r\n              >\r\n                {showRawJSON ? '‚ñº Hide' : '‚ñ∂ Show'} Raw JSON\r\n              </button>\r\n              \r\n              {showRawJSON && (\r\n                <pre className=\"mt-3 p-4 bg-secondary/30 rounded-lg text-xs overflow-x-auto text-foreground\">\r\n                  {JSON.stringify(query, null, 2)}\r\n                </pre>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div className=\"bg-secondary/30 px-6 py-4\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"w-full px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all hover:scale-105 active:scale-95 font-medium\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}