(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59512,89970,e=>{"use strict";async function t(e){try{let t=await fetch("/api/queries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();console.warn("Failed to log query:",e.error)}}catch(e){console.warn("Error logging query:",e)}}e.s(["logQuery",()=>t],59512);var r=e.i(43476);function s(){return(0,r.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 mb-6 animate-in fade-in slide-in-from-top-2 duration-500",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-yellow-500 mb-1",children:"⚠️ AI Caution"}),(0,r.jsx)("p",{className:"text-sm text-foreground leading-relaxed",children:"Be cautious — AI may make mistakes. These predictions are for informational purposes only. Always verify information before making any betting or financial decisions."})]})]})})}e.s(["default",()=>s],89970)},33638,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function s({context:e,className:s=""}){let[a,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)([]),[l,d]=(0,r.useState)(""),[c,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(null),h=async t=>{if(t.preventDefault(),!l.trim()||c)return;let r={id:Date.now().toString(),type:"user",content:l,timestamp:new Date};i(e=>[...e,r]),d(""),m(!0),x(null);try{let t={question:l.trim(),context:e},r=await fetch("/api/ai-followup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await r.json();if(!r.ok||!s.success)throw Error(s.error||"Failed to get AI response");let a={id:(Date.now()+1).toString(),type:"ai",content:s.answer,confidence:s.confidence,timestamp:new Date};i(e=>[...e,a])}catch(t){console.error("Error getting AI response:",t),x(t.message||"Failed to get response. Please try again.");let e={id:(Date.now()+1).toString(),type:"ai",content:`Sorry, I encountered an error: ${t.message||"Unknown error"}. Please try again.`,timestamp:new Date};i(t=>[...t,e])}finally{m(!1)}};return(0,t.jsx)("div",{className:`${s}`,children:a?(0,t.jsxs)("div",{className:"bg-card/95 backdrop-blur-md rounded-xl shadow-lg border border-border/50 overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-4 py-3 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),(0,t.jsx)("h3",{className:"text-white font-semibold",children:"Ask AI Follow-up"})]}),(0,t.jsx)("button",{onClick:()=>n(!1),className:"text-white hover:text-gray-200 transition-colors","aria-label":"Close",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"p-4 space-y-3 max-h-96 overflow-y-auto bg-secondary/20",children:[0===o.length?(0,t.jsxs)("div",{className:"text-center text-muted-foreground py-8",children:[(0,t.jsx)("p",{className:"text-sm",children:"Ask me anything about this prediction!"}),(0,t.jsx)("p",{className:"text-xs mt-1 text-muted-foreground/70",children:'e.g., "Why this confidence level?" or "What influenced this?"'})]}):o.map(e=>(0,t.jsx)("div",{className:`flex ${"user"===e.type?"justify-end":"justify-start"}`,children:(0,t.jsxs)("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${"user"===e.type?"bg-indigo-600 text-white":"bg-card/80 backdrop-blur-sm border border-border/50 text-foreground"}`,children:[(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),e.confidence&&"ai"===e.type&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsxs)("span",{className:`text-xs px-2 py-1 rounded-full ${"High"===e.confidence?"bg-green-100 text-green-700":"Medium"===e.confidence?"bg-yellow-100 text-yellow-700":"bg-orange-100 text-orange-700"}`,children:[e.confidence," Confidence"]})}),(0,t.jsx)("p",{className:"text-xs mt-1 opacity-70",children:e.timestamp.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})},e.id)),c&&(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsx)("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-lg px-4 py-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-indigo-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-indigo-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-indigo-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})})]}),u&&(0,t.jsx)("div",{className:"px-4 py-2 bg-red-50 border-t border-red-200",children:(0,t.jsx)("p",{className:"text-sm text-red-600",children:u})}),(0,t.jsxs)("form",{onSubmit:h,className:"p-4 border-t border-border/50 bg-card/50 backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:l,onChange:e=>d(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h(e))},placeholder:"Ask a follow-up question...",disabled:c,className:"flex-1 px-4 py-2 bg-secondary/50 border border-border text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 placeholder:text-muted-foreground disabled:opacity-50 disabled:cursor-not-allowed text-sm",maxLength:500}),(0,t.jsx)("button",{type:"submit",disabled:!l.trim()||c,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm",children:c?(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Send"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send • Max 500 characters"})]})]}):(0,t.jsxs)("button",{onClick:()=>n(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all shadow-md hover:shadow-lg hover:scale-105 active:scale-95 font-medium",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),(0,t.jsx)("span",{children:"Ask AI"})]})})}e.s(["default",()=>s])}]);