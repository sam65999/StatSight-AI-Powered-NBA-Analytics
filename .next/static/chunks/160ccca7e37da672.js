(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,r,t)=>{r.exports=e.r(76562)},6085,e=>{"use strict";var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g;let t=r.fetch,s=r.fetch.bind(r),a=r.Headers,l=r.Request,o=r.Response;e.s(["Headers",0,a,"Request",0,l,"Response",0,o,"default",0,s,"fetch",0,t])},17923,e=>{"use strict";let r=(0,e.i(75254).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);e.s(["BarChart3",()=>r],17923)},84614,e=>{"use strict";let r=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>r],84614)},27516,e=>{"use strict";let r=(0,e.i(75254).default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);e.s(["History",()=>r],27516)},82391,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(18566),a=e.i(22016),l=e.i(53210),o=e.i(17923),i=e.i(84614),d=e.i(75254);let n=(0,d.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),c=(0,d.default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var h=e.i(27516);let u=(0,d.default)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),m=[{name:"Dashboard",href:"/dashboard",icon:o.BarChart3},{name:"Player Stats",href:"/dashboard/player-stats",icon:i.User},{name:"Player Comparison",href:"/dashboard/player-comparison",icon:n},{name:"AI Prediction",href:"/dashboard/ai-prediction",icon:c},{name:"Query History",href:"/dashboard/query-history",icon:h.History},{name:"Settings",href:"/dashboard/settings",icon:u}];function x({children:e}){let i,[d,n]=(0,t.useState)(null),[c,h]=(0,t.useState)(""),[u,x]=(0,t.useState)(!0),f=(0,s.useRouter)(),p=(0,s.usePathname)();(0,t.useEffect)(()=>{(async()=>{let{data:{user:e}}=await l.supabase.auth.getUser();if(e){n(e);try{let r=await fetch(`/api/get-profile?userId=${e.id}`),t=await r.json();t.success&&t.profile?.username&&h(t.profile.username)}catch(e){console.error("Failed to fetch username:",e)}x(!1)}else f.push("/login")})();let{data:{subscription:e}}=l.supabase.auth.onAuthStateChange((e,r)=>{r?n(r.user):f.push("/login")});return()=>{e.unsubscribe()}},[f]);let g=async()=>{await l.supabase.auth.signOut(),f.push("/login")};return u?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsx)("div",{className:"text-gray-600",children:"Loading..."})}):(0,r.jsxs)("div",{className:"min-h-screen bg-background flex",children:[(0,r.jsx)("aside",{className:"w-64 bg-card/50 backdrop-blur-sm fixed h-full border-r border-border/50",children:(0,r.jsxs)("div",{className:"h-full flex flex-col",children:[(0,r.jsxs)("div",{className:"h-16 flex items-center gap-3 px-6 border-b border-border/50",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:(0,r.jsx)(o.BarChart3,{className:"w-5 h-5 text-primary-foreground"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-lg font-bold text-foreground",children:"StatSight"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"NBA Analytics"})]})]}),(0,r.jsx)("nav",{className:"flex-1 px-3 py-6 space-y-1",children:m.map(e=>{let t=p===e.href,s=e.icon;return(0,r.jsxs)(a.default,{href:e.href,className:`group flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 ${t?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-secondary/50 hover:text-foreground"}`,children:[(0,r.jsx)(s,{className:`w-4 h-4 ${t?"text-primary":"text-muted-foreground group-hover:text-foreground"}`}),(0,r.jsx)("span",{className:"text-sm",children:e.name})]},e.name)})}),(0,r.jsx)("div",{className:"p-4 border-t border-border/50",children:(0,r.jsxs)(a.default,{href:"/dashboard/settings",className:"flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-secondary/50 transition-all duration-200 group",title:"View or edit your account settings",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center text-primary font-semibold text-base",children:c?c.charAt(0).toUpperCase():d?.email?.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-foreground truncate group-hover:text-primary transition-colors",children:c?`@${c}`:"User"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:d?.email})]}),(0,r.jsx)("svg",{className:"w-4 h-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})}),(0,r.jsxs)("div",{className:"flex-1 ml-64",children:[(0,r.jsx)("header",{className:"h-16 bg-card/30 backdrop-blur-sm sticky top-0 z-10 border-b border-border/50",children:(0,r.jsxs)("div",{className:"h-full px-8 flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:(i=m.find(e=>e.href===p))?i.name:"Dashboard"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(a.default,{href:"/",className:"px-4 py-2 bg-secondary hover:bg-secondary/80 text-foreground rounded-lg transition-colors text-sm font-medium flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),(0,r.jsxs)("button",{onClick:g,className:"px-4 py-2 bg-destructive/10 hover:bg-destructive/20 text-destructive rounded-lg transition-colors text-sm font-medium flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})}),(0,r.jsxs)("main",{className:"p-6",children:[d&&!c&&"/dashboard/settings"!==p&&(0,r.jsxs)("div",{className:"mb-6 bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 flex items-center gap-3 animate-in fade-in slide-in-from-top-2 duration-500",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-yellow-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-foreground",children:"⚙️ Please set your username in Settings"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Add a username to personalize your account"})]}),(0,r.jsx)(a.default,{href:"/dashboard/settings",className:"px-4 py-2 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-500 rounded-lg text-sm font-medium transition-colors",children:"Go to Settings"})]}),e]})]})]})}e.s(["default",()=>x],82391)},11737,e=>{e.v(e=>Promise.resolve().then(()=>e(6085)))}]);